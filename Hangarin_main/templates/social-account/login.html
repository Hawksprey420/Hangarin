{% load static i18n account socialaccount widget_tweaks %}
<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}Hangarin | Sign In{% endblock %}</title>

  <link rel="shortcut icon" type="image/png" href="{% static 'images/logos/favicon.png' %}" />
  <link rel="stylesheet" href="{% static 'css/styles.min.css' %}" />

  <style>
    body {
      background: radial-gradient(circle at top left, #eef3ff, #ffffff);
      font-family: "Inter", sans-serif;
    }
    .card {
      border: none;
      border-radius: 16px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
    }
    input[type="text"], input[type="email"], input[type="password"] {
      border-radius: 10px;
      padding: 10px 14px;
      border: 1px solid #d6d9e0;
      width: 100%;
      transition: border-color 0.2s ease;
    }
    input:focus {
      border-color: #5D87FF;
      outline: none;
      box-shadow: 0 0 0 2px rgba(93, 135, 255, 0.2);
    }
    .btn-outline-secondary {
      border-color: #d0d0d0;
      color: #555;
      transition: all 0.2s ease;
    }
    .btn-outline-secondary:hover {
      background-color: #5D87FF;
      color: #fff;
      border-color: #5D87FF;
    }
  </style>
</head>

<body>
  <div class="page-wrapper" id="main-wrapper"
       data-layout="vertical" data-navbarbg="skin6"
       data-sidebartype="full" data-sidebar-position="fixed"
       data-header-position="fixed">

    <div class="position-relative overflow-hidden radial-gradient min-vh-100 d-flex align-items-center justify-content-center">
      <div class="d-flex align-items-center justify-content-center w-100">
        <div class="row justify-content-center w-100">
          <div class="col-md-8 col-lg-6 col-xxl-3">
            <div class="card mb-0 shadow-lg border-0">
              <div class="card-body p-4">

                <a href="{% url 'dashboard' %}" class="text-nowrap logo-img text-center d-block py-3 w-100">
                  <img src="{% static 'images/logos/dark-logo.svg' %}" width="180" alt="Hangarin Logo" />
                </a>
                <p class="text-center text-muted mb-4">
                  Welcome back. Please sign in to continue.
                </p>

                <form method="post" action="{% url 'account_login' %}" novalidate>
                  {% csrf_token %}

                  {% if form.non_field_errors %}
                    <div class="alert alert-danger py-2">{{ form.non_field_errors }}</div>
                  {% endif %}

                  <div class="mb-3">
                    <label for="id_login" class="form-label fw-semibold">Username or Email</label>
                    {{ form.login|add_class:"form-control" }}
                  </div>

                  <div class="mb-4">
                    <label for="id_password" class="form-label fw-semibold">Password</label>
                    {{ form.password|add_class:"form-control" }}
                  </div>

                  {% if redirect_field_value %}
                    <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
                  {% endif %}

                  <div class="d-flex align-items-center justify-content-between mb-4">
                    <div class="form-check">
                      <input class="form-check-input primary" type="checkbox" name="remember" id="id_remember" checked>
                      <label class="form-check-label text-dark" for="id_remember">
                        Remember this device
                      </label>
                    </div>
                    <a class="text-primary fw-bold" href="{% url 'account_reset_password' %}">Forgot Password?</a>
                  </div>

                  <button type="submit" class="btn btn-primary w-100 py-8 fs-4 mb-4 rounded-2">
                    Sign In
                  </button>
                </form>

                {% if socialaccount_providers %}
                <div class="position-relative text-center my-4">
                    <p class="mb-0 fs-4 px-3 d-inline-block bg-white text-dark z-index-5 position-relative">
                        Or sign in with
                    </p>
                    <span class="border-top w-100 position-absolute top-50 start-50 translate-middle-y"></span>
                </div>

                <div class="row">
                    {% for provider in socialaccount_providers %}
                    <div class="col">
                        <a class="btn btn-outline-secondary w-100 py-2 d-flex align-items-center justify-content-center" href="{% provider_login_url provider.id %}" role="button">
                            {% if provider.id == "google" %}
                                <img src="{% static 'images/icons/google.png' %}" alt="Google" width="20" class="me-2">
                            {% elif provider.id == "github" %}
                                <i class="ti ti-brand-github fs-5 me-2"></i>
                            {% else %}
                                <i class="ti ti-user fs-5 me-2"></i>
                            {% endif %}
                            {{ provider.name }}
                        </a>
                    </div>
                    {% endfor %}
                </div>
                {% endif %}

                <div class="d-flex align-items-center justify-content-center mt-4">
                  <p class="fs-5 mb-0 fw-semibold text-muted">New to Hangarin?</p>
                  <a class="text-primary fw-bold ms-2" href="{% url 'account_signup' %}">Create an account</a>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="{% static 'libs/jquery/dist/jquery.min.js' %}"></script>
  <script src="{% static 'libs/bootstrap/dist/js/bootstrap.bundle.min.js' %}"></script>
</body>
</html>